---
layout: post
title: python多进程
categories: python
tags: python多进程
author: nsf
---

* content
{:toc}




## 1.python多进程

demo:

```
import multiprocessing


def func1(x):
    for i in range(1000000000):
        x = x+1
        x = x-1


if __name__ == "__main__":
    pool = multiprocessing.Pool(processes=6)
    for _ in range(6):
        pool.apply_async(func1, (1, ))
    pool.close()
    pool.join()
```

pool = multiprocessing.Pool(processes=6)建立进程池，限制进程最大数量，一般不要超过cpu核数，超出后多个进程使用同一核，进程间切换反而让效率降低。pool.apply_async(func1, (1, ))第一个参数是调用的函数名，第二个参数为函数参数。

